"use strict";

exports.__esModule = true;
exports.addRemoteFileInterfaceFields = addRemoteFileInterfaceFields;
exports.getOrCreateRemoteFileInterface = getOrCreateRemoteFileInterface;
var _redux = require("redux");
var _redux2 = require("../../redux");
var _actions = require("../../redux/actions");
var _polyfillRemoteFile = require("../../plugin-utils/polyfill-remote-file");
function addRemoteFileInterfaceFields(schemaComposer, typeComposer) {
  const remoteFileInterfaceType = getOrCreateRemoteFileInterface(schemaComposer);
  typeComposer.addFields(remoteFileInterfaceType.getFields());
}
function getOrCreateRemoteFileInterface(schemaComposer) {
  const enums = (0, _polyfillRemoteFile.getRemoteFileEnums)(schemaComposer.createEnumTC.bind(schemaComposer));
  schemaComposer.getOrCreateOTC(`RemoteFileResize`, tc => {
    tc.addFields({
      width: `Int`,
      height: `Int`,
      src: `String`
    });
  });
  return schemaComposer.getOrCreateIFTC(`RemoteFile`, tc => {
    tc.setDescription(`Remote Interface`);
    const boundActions = (0, _redux.bindActionCreators)(_actions.actions, _redux2.store.dispatch);

    // @ts-ignore - types are messed up by schema composer maybe new version helps here
    tc.addFields((0, _polyfillRemoteFile.getRemoteFileFields)(enums, boundActions, _redux2.store));
  });
}
//# sourceMappingURL=remote-file-interface.js.map